<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Badge Verifier</title>
    <style>
      body {
        margin: 0;
        font-family:
          system-ui,
          -apple-system,
          sans-serif;
        display: flex;
        flex-direction: column;
        min-height: 100vh;
      }

      .container {
        padding: 2rem;
        flex: 1;
        display: flex;
        flex-direction: column;
        gap: 2rem;
      }

      .dark-theme {
        background-color: #09090b; /* zinc-950 */
        color: #fafafa; /* zinc-50 */
      }

      .light-theme {
        background-color: #ffffff;
        color: #09090b;
      }

      h2 {
        margin-bottom: 1rem;
        font-size: 1.25rem;
        opacity: 0.8;
      }

      .badge-row {
        display: flex;
        align-items: center;
        gap: 1rem;
        flex-wrap: wrap; /* Wraps if too long, but keeps inline flow */
        padding: 1rem;
        border: 1px dashed rgba(128, 128, 128, 0.3);
        border-radius: 8px;
      }

      .badge-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 4px;
      }

      .badge-label {
        font-size: 10px;
        font-family: monospace;
        opacity: 0.5;
      }

      .badge-icon {
        display: inline-block;
        height: 20px; /* h-5 equivalent */
        width: auto; /* Allow width to scale based on aspect ratio */
        object-fit: contain;
        /* Debug border */
        border: 1px solid rgba(128, 128, 128, 0.1);
      }

      /* Helper to visualize baseline alignment */
      .baseline-check {
        position: relative;
      }
      .baseline-check::after {
        content: '';
        position: absolute;
        left: 0;
        right: 0;
        top: 50%;
        height: 1px;
        background: red;
        opacity: 0.2;
        pointer-events: none;
      }
    </style>
  </head>
  <body>
    <!-- Dark Mode Test -->
    <div class="dark-theme container">
      <h2>Dark Theme (bg-zinc-950, text-zinc-50)</h2>
      <div class="badge-row baseline-check" id="grid-dark"></div>
    </div>

    <!-- Light Mode Test -->
    <div class="light-theme container">
      <h2>Light Mode (bg-white, text-zinc-950)</h2>
      <div class="badge-row baseline-check" id="grid-light"></div>
    </div>

    <script>
      const BADGE_ASPECT_RATIOS = {
        '3d': 26 / 15,
        '4k': 26 / 15,
        aac: 168 / 53,
        ad: 26 / 15,
        'apple-digital-master': 75 / 18,
        av1: 278 / 155,
        cc: 32 / 15,
        'dolby-atmos': 52 / 22,
        'dolby-audio': 52 / 22,
        'dolby-vision': 52 / 22,
        dolby: 24 / 17,
        'dts-hd-ma': 302.86 / 92.66,
        'dts-x': 139 / 40.8,
        dts: 24 / 10,
        hd: 26 / 15,
        hdr: 34 / 15,
        'hdr10-plus': 54 / 15,
        'hi-res-lossless': 64 / 17,
        'imax-enhanced': 191.2 / 66.7,
        imax: 489.22 / 94.727,
        immersive: 26 / 15,
        lossless: 64 / 17,
        mediainfo: 26 / 15,
        sd: 26 / 15,
        sdh: 32 / 15,
        spatial: 1760 / 830,
      };

      function renderBadges(containerId, isDark) {
        const container = document.getElementById(containerId);

        Object.entries(BADGE_ASPECT_RATIOS).forEach(([name, ratio]) => {
          const wrapper = document.createElement('div');
          wrapper.className = 'badge-item';

          const img = document.createElement('img');
          img.src = `badges/${name}.svg`;
          img.className = 'badge-icon';

          // Apply aspect ratio to match app logic
          img.style.aspectRatio = ratio;

          if (isDark) {
            // Invert colors to make black SVG white for dark theme
            // (Matches 'bg-white' mask effect visually)
            img.style.filter = 'invert(1) grayscale(1)';
          } else {
            // Force dark for light theme if needed, though default is usually black
            img.style.filter = 'grayscale(1)';
          }

          const label = document.createElement('span');
          label.className = 'badge-label';
          label.textContent = name;

          wrapper.appendChild(img);
          wrapper.appendChild(label);
          container.appendChild(wrapper);
        });
      }

      renderBadges('grid-dark', true);
      renderBadges('grid-light', false);
    </script>
  </body>
</html>
